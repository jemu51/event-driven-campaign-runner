# ==============================================================================
# Agent-Driven Recruitment Automation - Environment Configuration
# ==============================================================================
# 
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control
#
# cp .env.example .env
#
# IMPORTANT: Before using this file, you must manually deploy the AWS
# infrastructure. See ARCHITECHTURE.md for the build plan and phases.
#
# After deploying infrastructure, update the values below with the actual
# resource names, ARNs, and IDs created during deployment.
#

# ==============================================================================
# Environment
# ==============================================================================
ENVIRONMENT=dev
# Options: dev, staging, production

AWS_REGION=us-west-2
# AWS region where resources are deployed

AWS_ACCOUNT_ID=123456789012
# Your AWS account ID

# ==============================================================================
# AWS Credentials (for local development)
# ==============================================================================
# Use AWS CLI profiles instead when possible: aws configure --profile dev
# Uncomment and set these only if not using AWS CLI profiles

# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_SESSION_TOKEN=your_session_token  # Optional, for temporary credentials

# ==============================================================================
# DynamoDB
# ==============================================================================
DYNAMODB_TABLE_NAME=RecruitmentSessions-dev
# Name of the DynamoDB table for provider state

DYNAMODB_ENDPOINT_URL=
# Leave empty for AWS, or set to http://localhost:8000 for local DynamoDB

DYNAMODB_GSI_NAME=GSI1
# Name of the Global Secondary Index for dormant session queries

# ==============================================================================
# EventBridge
# ==============================================================================
EVENT_BUS_NAME=recruitment-events-dev
# Name of the custom EventBridge event bus

EVENT_SOURCE_PREFIX=recruitment
# Prefix for all event sources (e.g., recruitment.agents.screening)

# ==============================================================================
# SES (Email)
# ==============================================================================
SES_CONFIGURATION_SET=recruitment-dev
# SES configuration set name for tracking

SES_FROM_EMAIL=noreply@dev.recruitment.example.com
# From address for outbound emails

SES_REPLY_TO_DOMAIN=dev.recruitment.example.com
# Domain for reply-to addresses (e.g., campaign+X_provider+Y@domain.com)

SES_REGION=us-west-2
# SES region (must be where domain is verified)

# ==============================================================================
# S3
# ==============================================================================
S3_DOCUMENTS_BUCKET=recruitment-documents-dev-123456789012
# Bucket for provider document storage

S3_EMAIL_STORAGE_BUCKET=recruitment-emails-dev-123456789012
# Bucket for raw inbound email storage

S3_DOCUMENTS_PREFIX=documents/
# Prefix for document objects in S3

# ==============================================================================
# SNS
# ==============================================================================
SNS_INBOUND_EMAIL_TOPIC_ARN=arn:aws:sns:us-west-2:123456789012:recruitment-inbound-email-dev
# SNS topic ARN for inbound email notifications

SNS_OPS_ALERTS_TOPIC_ARN=arn:aws:sns:us-west-2:123456789012:ops-alerts-dev
# SNS topic ARN for operational alerts

# ==============================================================================
# AWS Bedrock AgentCore
# ==============================================================================
BEDROCK_AGENT_RUNTIME_ENDPOINT=
# Leave empty to use default, or override for testing

CAMPAIGN_PLANNER_AGENT_ID=agent-campaign-planner-dev
# Campaign Planner Agent ID in Bedrock

COMMUNICATION_AGENT_ID=agent-communication-dev
# Communication Agent ID in Bedrock

SCREENING_AGENT_ID=agent-screening-dev
# Screening Agent ID in Bedrock

# ==============================================================================
# LLM Configuration (Bedrock Claude)
# ==============================================================================
# Global LLM Toggle
RECRUITMENT_LLM_ENABLED=true
# Set to false to disable all LLM features (use template-based fallback)

# Feature-Specific LLM Toggles
RECRUITMENT_USE_LLM_FOR_EMAIL=true
# Use LLM for email generation in Communication Agent

RECRUITMENT_USE_LLM_FOR_CLASSIFICATION=true
# Use LLM for response classification in Screening Agent

RECRUITMENT_USE_LLM_FOR_SCREENING=true
# Use LLM for screening decisions in Screening Agent

RECRUITMENT_USE_LLM_FOR_DOCUMENT_ANALYSIS=true
# Use LLM for document analysis with OCR fallback

# Bedrock Model Configuration
RECRUITMENT_BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0
# AWS Bedrock model ID for Claude (options: claude-3-sonnet, claude-3-haiku)

RECRUITMENT_BEDROCK_REGION=us-west-2
# AWS region for Bedrock service

RECRUITMENT_BEDROCK_ENDPOINT_URL=
# Custom Bedrock endpoint URL (for local testing or VPC endpoints)

# LLM Response Parameters
RECRUITMENT_LLM_TEMPERATURE=0.3
# LLM sampling temperature (0.0-1.0, lower = more deterministic)

RECRUITMENT_LLM_MAX_TOKENS=4096
# Maximum tokens for LLM response

RECRUITMENT_LLM_TOP_P=0.9
# Top-p (nucleus) sampling parameter

# LLM Retry Configuration
RECRUITMENT_LLM_MAX_RETRIES=3
# Maximum retry attempts for failed LLM calls

RECRUITMENT_LLM_RETRY_DELAY_SECONDS=1.0
# Initial delay between retries (exponential backoff)

RECRUITMENT_LLM_TIMEOUT_SECONDS=30.0
# Timeout for LLM API calls in seconds

# ==============================================================================
# AWS Textract
# ==============================================================================
TEXTRACT_ROLE_ARN=arn:aws:iam::123456789012:role/TextractServiceRole-dev
# IAM role ARN for Textract to access S3

TEXTRACT_SNS_TOPIC_ARN=arn:aws:sns:us-west-2:123456789012:textract-completion-dev
# SNS topic ARN for Textract completion notifications

# ==============================================================================
# Dead Letter Queues
# ==============================================================================
CAMPAIGN_PLANNER_DLQ_URL=https://sqs.us-west-2.amazonaws.com/123456789012/campaign-planner-dlq-dev
COMMUNICATION_DLQ_URL=https://sqs.us-west-2.amazonaws.com/123456789012/communication-dlq-dev
SCREENING_DLQ_URL=https://sqs.us-west-2.amazonaws.com/123456789012/screening-dlq-dev
LAMBDA_DLQ_URL=https://sqs.us-west-2.amazonaws.com/123456789012/lambda-dlq-dev

# ==============================================================================
# Logging & Monitoring
# ==============================================================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

ENABLE_XRAY_TRACING=true
# Enable AWS X-Ray distributed tracing

STRUCTURED_LOGGING=true
# Use structured JSON logging (recommended for production)

CLOUDWATCH_LOG_GROUP_PREFIX=/aws/recruitment-automation/dev
# CloudWatch log group prefix

# ==============================================================================
# Agent Configuration
# ==============================================================================
AGENT_TIMEOUT_SECONDS=30
# Maximum execution time for agents

AGENT_MAX_RETRIES=3
# Maximum retry attempts for failed agent invocations

# ==============================================================================
# Campaign Configuration
# ==============================================================================
MAX_PROVIDERS_PER_CAMPAIGN=100
# Maximum providers to contact per campaign

FOLLOW_UP_DELAY_DAYS=3
# Days to wait before sending follow-up email

MAX_FOLLOW_UPS=2
# Maximum number of follow-up emails to send

# ==============================================================================
# Email Configuration
# ==============================================================================
EMAIL_RATE_LIMIT_PER_SECOND=10
# Maximum emails to send per second (SES limit is 14/sec)

EMAIL_TEMPLATE_BUCKET=recruitment-email-templates-dev
# S3 bucket for email templates (optional)

# ==============================================================================
# Document Processing
# ==============================================================================
MAX_DOCUMENT_SIZE_MB=10
# Maximum allowed document size in MB

ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,jpg,jpeg,png
# Comma-separated list of allowed file extensions

DOCUMENT_RETENTION_DAYS=365
# Days to retain documents in S3 before archiving

# ==============================================================================
# State Machine Configuration
# ==============================================================================
STATE_MACHINE_CONTRACTS_PATH=./contracts/state_machine.json
# Path to state machine contracts file

EVENT_CONTRACTS_PATH=./contracts/events.json
# Path to event contracts file

# ==============================================================================
# Feature Flags
# ==============================================================================
ENABLE_DOCUMENT_OCR=true
# Enable Textract OCR for document processing

ENABLE_EMAIL_VERIFICATION=true
# Verify provider email addresses before sending

ENABLE_CAMPAIGN_ANALYTICS=true
# Track campaign analytics and metrics

# ==============================================================================
# Security
# ==============================================================================
KMS_KEY_ID=arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012
# KMS key for encryption at rest

ENABLE_ENCRYPTION=true
# Enable encryption for DynamoDB and S3

# ==============================================================================
# Testing & Development
# ==============================================================================
MOCK_AWS_SERVICES=false
# Use moto to mock AWS services (for local testing)

SKIP_EMAIL_SENDING=false
# Skip actual email sending (log instead)

DRY_RUN_MODE=false
# Execute workflow without making state changes

# ==============================================================================
# Strands AI Configuration
# ==============================================================================
STRANDS_API_KEY=
# Strands AI API key (if required)

STRANDS_WORKSPACE_ID=recruitment-automation-dev
# Strands workspace identifier

# ==============================================================================
# Rate Limiting
# ==============================================================================
DYNAMODB_MAX_BATCH_SIZE=25
# Maximum items per DynamoDB batch operation

EVENTBRIDGE_MAX_BATCH_SIZE=10
# Maximum events per EventBridge PutEvents call

# ==============================================================================
# Retry & Backoff
# ==============================================================================
RETRY_MAX_ATTEMPTS=3
# Maximum retry attempts for transient failures

RETRY_INITIAL_BACKOFF_MS=100
# Initial backoff delay in milliseconds

RETRY_MAX_BACKOFF_MS=5000
# Maximum backoff delay in milliseconds

RETRY_BACKOFF_MULTIPLIER=2
# Backoff multiplier for exponential backoff

# ==============================================================================
# Health Checks
# ==============================================================================
HEALTH_CHECK_ENABLED=true
# Enable health check endpoints

HEALTH_CHECK_INTERVAL_SECONDS=60
# Health check interval

# ==============================================================================
# Cost Optimization
# ==============================================================================
DYNAMODB_TTL_ENABLED=true
# Enable TTL for automatic cleanup of old records

DYNAMODB_TTL_ATTRIBUTE=ttl
# Attribute name for TTL

ARCHIVE_OLD_DOCUMENTS_DAYS=90
# Move documents to Glacier after N days

# ==============================================================================
# Compliance & Audit
# ==============================================================================
ENABLE_AUDIT_LOGGING=true
# Log all state changes for audit trail

AUDIT_LOG_RETENTION_DAYS=2555
# 7 years retention for compliance

PII_REDACTION_ENABLED=true
# Redact PII from logs

# ==============================================================================
# Development Tools
# ==============================================================================
ENABLE_DEBUG_MODE=false
# Enable verbose debug logging and additional checks

ENABLE_PROFILING=false
# Enable performance profiling

LOCAL_DEV_MODE=true
# Running in local development (not production)
